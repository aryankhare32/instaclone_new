{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Signin.js","components/screens/Signup.js","components/screens/Profile.js","components/screens/Createpost.js","reducers/userReducer.js","components/screens/UserProfile.js","components/screens/SubscribedUserPost.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","console","log","posts","map","item","style","padding","postedBy","_id","name","float","postId","method","Authorization","newData","filter","src","photo","alt","color","likes","includes","body","JSON","stringify","catch","err","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","Signin","password","setPassword","email","setEmail","onChange","event","test","M","toast","html","classes","error","setItem","token","user","payload","postData","Signup","setName","image","setImage","undefined","url","setUrl","uploadFields","pic","message","FormData","append","uploadPic","files","Profile","myPics","setMyPics","myPost","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","followers","following","file","Createpost","setTitle","setBody","textAlign","postDetails","reducer","action","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","followId","prevState","unfollowId","newFollower","createContext","Routing","parse","exact","path","UserProfile","SubscribedUserPost","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d327ece2.chunk.js","sourcesContent":["import React,{useContext} from \"react\"\nimport{Link,useHistory} from \"react-router-dom\";\nimport {UserContext} from \"../App\";\n\nfunction Navbar() {\n  const{state,dispatch}= useContext(UserContext);\n  const history = useHistory();\n  const renderList= ()=>{\n    if(state){\n      return[\n        <li><Link to=\"/profile\">Profile</Link></li>,\n        <li><Link to=\"/createpost\">Createpost</Link></li>,\n        <li key=\"4\"><Link to=\"/myfollowingpost\">My following Posts</Link></li>,\n        <li>\n        <button onClick={()=>{\n          localStorage.clear()\n          dispatch({type:\"CLEAR\"});\n          history.push(\"/signin\");\n        }} className=\"btn waves-effect waves-light #e53935 red darken-1\"  >\n                LogOut\n            </button>\n        </li>\n      ]\n    } else {\n      return [\n        <li><Link to=\"/signin\">Login</Link></li>,\n        <li><Link to=\"/signup\">SignUp</Link></li>\n        \n      ]\n    }\n  }\n    return (\n        <nav>\n    <div className=\"nav-wrapper white\" >\n      <Link to={state ? \"/\" : \"/signin\"} className=\"brand-logo left\">Instagram</Link>\n      <ul id=\"nav-mobile\" className=\"right \">\n        {renderList()}\n      </ul>\n    </div>\n  </nav>\n        \n    )\n}\n\nexport default Navbar\n","import React,{useState,useEffect,useContext} from 'react'\nimport {UserContext} from \"../../App\";\nimport {Link} from \"react-router-dom\";\n\nfunction Home() {\n    const[data,setData] = useState([]);\n    const {state,dispatch} = useContext(UserContext);\n    useEffect(()=>{\n        fetch(\"/allposts\",{\n            headers:{\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\")\n            }\n        }).then(res => res.json())\n        .then(result => {\n            console.log(result);\n            setData(result.posts);\n        })\n    },[])\n\n    const likePost=(id)=>{\n        fetch(\"/like\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        })\n        .then(res=>res.json())\n        .then(result => {\n            const newData= data.map((item)=>{\n                if(item._id === result._id){\n                    return result;\n                } else {\n                    return item;\n                }\n            })\n            setData(newData);\n        }).catch(err =>{\n            console.log(err);\n        })\n    }\n    const unlikePost=(id)=>{\n        fetch(\"/unlike\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        })\n        .then(res=>res.json())\n        .then(result => {\n            const newData= data.map((item)=>{\n                if(item._id === result._id){\n                    return result;\n                } else {\n                    return item;\n                }\n            })\n            setData(newData);\n        }).catch(err =>{\n            console.log(err);\n        })\n    }\n\n    const makeComment = (text,postId)=>{\n        fetch(\"/comment\",{\n            method:\"put\",\n            headers:{\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\n                \"Content-Type\": \"application/json\"\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        })\n        .then((res)=> res.json())\n        .then(result => {\n            console.log(result);\n            const newData= data.map((item)=>{\n                if(item._id === result._id){\n                    return result;\n                } else {\n                    return item;\n                }\n            })\n            setData(newData);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    const deletePost = (postId)=>{\n        fetch(`/deletepost/${postId}`,{\n            method:\"delete\",\n            headers:{\n                Authorization : \"Bearer \"+ localStorage.getItem(\"jwt\")\n            }\n        })\n        .then(res => res.json())\n        .then(result => {\n            console.log(result);\n            const newData  = data.filter((item)=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n    return (\n        <div className=\"home\">\n\n           {\n            data.map((item)=>{\n                return(\n                    <div className=\"card home-card\" key={item._id}>\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ?   \"/profile/\" + item.postedBy._id : \"/profile\"}> {item.postedBy.name} </Link>  \n                        {item.postedBy._id == state._id\n                        &&\n                        <i className=\"material-icons\" style={{float:\"right\"}}\n                        onClick={()=>deletePost(item._id)}\n                        >delete</i>\n                        }\n                        </h5>\n\n                        <div className=\"card-image\">\n                            <img src={item.photo} alt=\"\" />\n                        </div>\n                        <div className=\"card-content\">\n                        <i className=\"material-icons\" style={{color:\"red\"}} >favorite</i>\n                        {item.likes.includes(state._id)\n                        ?\n                        <i onClick={()=>unlikePost(item._id)} className=\"material-icons\" >thumb_down</i>\n                        :\n                        <i onClick={()=>likePost(item._id)} className=\"material-icons\" >thumb_up</i>\n                        }\n                        \n                        \n                            <h6>{item.likes.length} likes</h6>\n                            <h6>{item.title}</h6>\n                            <p>{item.body}</p>\n                            {\n                               item.comments.map((record)=>{\n                                   return(\n                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                   )\n                               })     \n                            }\n                            \n                            <form onSubmit={(e)=>{\n                                e.preventDefault();\n                                makeComment(e.target[0].value,item._id)\n                                 \n                            }}>\n                            <input type=\"text\" placeholder=\"Add a comment\" /> \n                            </form>\n                        </div>\n                    </div>\n                )\n            })\n           } \n            \n        </div>\n    )\n}\n\nexport default Home\n","import React,{useState,useContext} from 'react';\nimport {Link,useHistory} from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport {UserContext} from \"../../App.js\";\n\nfunction Signin() {\n    const {state,dispatch}= useContext(UserContext);\n    const history= useHistory();\n    const[password,setPassword]=useState(\"\");\n    const[email,setEmail]=useState(\"\");\n    const postData=()=>{\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n            return M.toast({html: \"Invalid Email\",classes:\"#d84315 deep-orange darken-3\"})\n        }\n        fetch(\"/signin\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \n            },\n            body:JSON.stringify({\n                password,\n                email\n            })\n        }).then(res=>res.json())\n        .then(data=> {\n            console.log(data);\n            if(data.error){\n                \n                M.toast({html: data.error,classes:\"#d84315 deep-orange darken-3\"})\n            } else{\n                localStorage.setItem(\"jwt\",data.token)\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\n                dispatch({type:\"USER\",payload:data.user})\n                M.toast({html: \"Successfully SignedIn\",classes:\"#00e676 green accent-3\"});\n                history.push(\"/\");\n            }\n        })\n        .catch(err=>\n            console.log(err));\n    }\n\n    return (\n        <div className=\"my-card\"> \n            <div className = \"auth-card\">\n            <h2>Instagram</h2>\n            <input \n        type = \"text\"\n        placeholder = \"Email\"\n        value = {email}\n        onChange={event=>{\n           return setEmail(event.target.value);\n        }}\n        />\n        <input \n        type = \"password\"\n        placeholder = \"Password\"\n        value = {password}\n        onChange={event=>{\n           return setPassword(event.target.value);\n        }}\n        />\n            <button onClick={()=>postData()} className=\"btn waves-effect waves-light\" >\n                Login\n            </button>\n            <h5>\n            <Link to=\"/signup\">Don't have an account?</Link>\n        </h5>\n            </div>\n        </div>\n        \n    )\n}\n\nexport default Signin\n","import React,{useState,useEffect} from 'react'\nimport {Link,useHistory} from \"react-router-dom\";\nimport M from \"materialize-css\";\n\n\n\n\nfunction Signup() {\n\n    const history= useHistory();\n    const[name,setName]=useState(\"\");\n    const[password,setPassword]=useState(\"\");\n    const[email,setEmail]=useState(\"\");\n    const [image,setImage] = useState(\"\")\n    const [url,setUrl] = useState(undefined)\n    useEffect(()=>{\n        if(url)\n        uploadFields()\n    },[url])\n\n    const uploadPic=()=>{\n        const data= new FormData();\n        data.append(\"file\",image);\n        data.append(\"upload_preset\",\"Aryan-insta-clone\");\n        data.append(\"cloud_name\",\"instaclone-1\");\n        fetch(\"https://api.cloudinary.com/v1_1/instaclone-1/image/upload\",{\n            method:\"post\",\n            body:data,\n        })\n        .then(res => res.json())\n        .then(data=>{\n            setUrl(data.url);\n        })\n        .catch(err => console.log(err))\n    }\n\n    const uploadFields = ()=>{\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n            return M.toast({html: \"Invalid Email\",classes:\"#d84315 deep-orange darken-3\"})\n        }\n        fetch(\"/signup\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                name,\n                password,\n                email,\n                pic:url\n            })\n        }).then(res=>res.json())\n        .then(data=> {\n            if(data.error){\n                M.toast({html: data.error,classes:\"#d84315 deep-orange darken-3\"})\n            } else{\n                M.toast({html: data.message,classes:\"#00e676 green accent-3\"});\n                history.push(\"/signin\");\n            }\n        })\n        .catch(err=>\n            console.log(err));\n    }\n\n    const postData=()=>{\n        if(image){\n            uploadPic();\n        } else {\n            uploadFields();\n        }\n        \n    }\n\n    \n\n\n    return (\n        <div className=\"my-card\"> \n        <div className = \"auth-card\">\n        <h2>Instagram</h2>\n        <input \n        type = \"text\"\n        placeholder = \"Full Name\"\n        value = {name}\n        onChange={event=>{\n           return setName(event.target.value);\n        }}\n        />\n        <input \n        type = \"text\"\n        placeholder = \"Email\"\n        value = {email}\n        onChange={event=>{\n           return setEmail(event.target.value);\n        }}\n        />\n        <input \n        type = \"password\"\n        placeholder = \"Password\"\n        value = {password}\n        onChange={event=>{\n           return setPassword(event.target.value);\n        }}\n        />\n         <div className=\"file-field input-field\">\n                <div className=\"btn\">\n                <span>Upload Profile Picture</span>\n                <input type=\"file\"\n                    onChange={e=> setImage(e.target.files[0])}\n                 />\n                </div>\n                <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" type=\"text\"/>\n                </div>\n            </div>\n        <button onClick={()=>postData()} className=\"btn waves-effect waves-light\" >\n            SignUp\n        </button>\n        <h5>\n            <Link to=\"/signin\">Already have an account?</Link>\n        </h5>\n        </div>\n    </div>\n    )\n}\n\nexport default Signup\n","import React,{useEffect,useState,useContext} from 'react'\nimport {UserContext} from \"../../App\";\n\nfunction Profile() {\n    const[myPics,setMyPics] = useState([]);\n    const{state,dispatch} = useContext(UserContext);\n    const [image,setImage] = useState(\"\")\n    \n    useEffect(()=>{\n        fetch(\"/myposts\",{\n            headers:{\n                \"Authorization\" : \"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result => {\n            \n            setMyPics(result.myPost);\n        })\n    },[])\n    useEffect(() => {\n        if(image){\n            const data= new FormData();\n    data.append(\"file\",image);\n    data.append(\"upload_preset\",\"Aryan-insta-clone\");\n    data.append(\"cloud_name\",\"instaclone-1\");\n    fetch(\"https://api.cloudinary.com/v1_1/instaclone-1/image/upload\",{\n        method:\"post\",\n        body:data,\n    })\n    .then(res => res.json())\n    .then(data=>{\n        \n        // localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.url}))\n        // dispatch({type:\"UPDATEPIC\",payload:url.data})\n\n        fetch(\"/updatepic\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                pic:data.url\n            })\n        }).then(res =>res.json())\n        .then(result=>{\n            console.log(result);\n            localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\n            dispatch({type:\"UPDATEPIC\",payload:result.pic})\n            // window.location.reload();\n        })\n        \n        \n    })\n    .catch(err => console.log(err))\n        }\n    },[image])\n\n   const updatePhoto = (file)=>{\n       setImage(file)\n    \n   }\n    \n    return ( \n    <div style={{maxWidth:\"550px\",margin:\"0 auto\"}}>\n    <div style={{\n        margin:\"18px 0\",\n        borderBottom:\"1px solid grey\"\n    }}>\n        <div style={{\n        \n            display:\"flex\",\n            justifyContent:\"space-around\",\n        }}>\n            <div>\n            <img style={{width: \"160px\" , height: \"160px\", borderRadius:\"80px\"}} \n                src={state ? state.pic : \"Loading\"}\n            />\n            </div>\n            <div>\n                <h4>{state?state.name:\"loading\"}</h4>\n                <h5>{state?state.email:\"loading\"}</h5>\n                <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\n                    <h6>{myPics.length} posts</h6>\n                    <h6>{state? state.followers.length:0} Followers</h6>\n                    <h6>{state? state.following.length:0} Following</h6>\n                </div>\n            </div>\n        </div>\n            <div className=\"file-field input-field\" style={{margin:\"10px\"}}>\n                <div className=\"btn\">\n                <span>Update Picture</span>\n                <input type=\"file\"\n                    onChange={e=> updatePhoto(e.target.files[0])}\n                 />\n                </div>\n                <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" type=\"text\"/>\n                </div>\n            </div>\n    </div>\n        <div className=\"gallery\">\n\n\n        {\n            myPics.map((item)=>{\n                return(\n                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title} />\n                )\n            })\n        }\n            \n        </div>\n    </div>\n    )\n}\n\nexport default Profile;\n","import React,{useState,useEffect} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nfunction Createpost() {\n\n    const[title,setTitle]=useState(\"\");\n    const[body,setBody]= useState(\"\");\n    const[image,setImage] = useState(\"\");\n    const[url,setUrl] = useState(\"\");\n    const history = useHistory();\n    useEffect(() => {\n        if(url){\n            fetch(\"/createpost\",{\n                method:\"post\",\n                headers:{\n                    \"Content-Type\":\"application/json\",\n                    \"Authorization\": \"Bearer \"+ localStorage.getItem(\"jwt\")\n                },\n                body:JSON.stringify({\n                    title,\n                    body,\n                    pic:url\n                })\n            }).then(res=>res.json())\n            .then(data=> {\n                if(data.error){\n                    M.toast({html: data.error,classes:\"#d84315 deep-orange darken-3\"})\n                } else{\n                    M.toast({html: \"Successfully Created Post\",classes:\"#00e676 green accent-3\"});\n                    history.push(\"/\");\n                }\n            })\n            .catch(err=>\n                console.log(err));\n        }\n        \n        \n    }, [url])\n    const postDetails= ()=>{\n        const data= new FormData();\n        data.append(\"file\",image);\n        data.append(\"upload_preset\",\"Aryan-insta-clone\");\n        data.append(\"cloud_name\",\"instaclone-1\");\n        fetch(\"https://api.cloudinary.com/v1_1/instaclone-1/image/upload\",{\n            method:\"post\",\n            body:data,\n        })\n        .then(res => res.json())\n        .then(data=>{\n            setUrl(data.url);\n        })\n        .catch(err => console.log(err))\n\n        \n    }\n\n\n    return (\n        <div className= \"card input-field\" style={{\n            maxWidth:\"500px\",\n            margin:\"30px auto\",\n            padding:\"20px\", \n            textAlign:\"center\"\n        }}>\n            <input\n             type=\"text\" \n             placeholder=\"Title\"\n             onChange={(e)=>setTitle(e.target.value)}\n             value={title}\n              />\n            <input \n            type=\"text\" \n            placeholder=\"body\" \n            onChange={(e)=>setBody(e.target.value)}\n             value={body}\n            />\n            <div className=\"file-field input-field\">\n                <div className=\"btn\">\n                <span>Upload Image</span>\n                <input type=\"file\"\n                    onChange={e=> setImage(e.target.files[0])}\n                 />\n                </div>\n                <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" type=\"text\"/>\n                </div>\n            </div>\n            <button onClick={()=>postDetails()} className=\"btn waves-effect waves-dark\" >\n            Post\n        </button>\n        </div>\n        \n    )\n}\n\nexport default Createpost\n","export const initialState= null;\n\nexport const reducer= (state,action)=>{\n    if(action.type===\"USER\"){\n        return action.payload;\n    }\n    if(action.type === \"CLEAR\"){\n        return null;\n    }\n    if(action.type === \"UPDATE\")\n    {\n        return {\n            ...state,\n            followers:action.payload.followers,\n            following:action.payload.following\n        }\n    }\n    if(action.type === \"UPDATEPIC\"){\n       return{\n        ...state,\n        pic:action.payload\n       }\n    }\nreturn state;\n}","\nimport React,{useEffect,useState,useContext} from 'react'\nimport {UserContext} from \"../../App\";\nimport {useParams} from \"react-router-dom\";\n\nfunction Profile() {\n    const[userProfile,setProfile] = useState(null);\n\n    const{state,dispatch} = useContext(UserContext);\n    const{userid}=useParams()\n    const [showfollow,setShowFollow] = useState(state?!state.following.includes(userid):true)\n    \n    useEffect(()=>{\n        fetch(`/user/${userid}`,{\n            headers:{\n                \"Authorization\" : \"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result => {\n           \n            setProfile(result);\n            \n        })\n    },[])\n    \n    const followUser = ()=>{\n        fetch('/follow',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\n            },\n            body:JSON.stringify({\n                followId:userid\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n        \n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n             localStorage.setItem(\"user\",JSON.stringify(data))\n             setProfile((prevState)=>{\n                 return {\n                     ...prevState,\n                     user:{\n                         ...prevState.user,\n                         followers:[...prevState.user.followers,data._id]\n                        }\n                 }\n             })\n             setShowFollow(false)\n        })\n    }\n\n    const unfollowUser = ()=>{\n        fetch('/unfollow',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\n            },\n            body:JSON.stringify({\n                unfollowId:userid\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            \n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n             localStorage.setItem(\"user\",JSON.stringify(data))\n            \n             setProfile((prevState)=>{\n                const newFollower = prevState.user.followers.filter(item=>item != data._id )\n                 return {\n                     ...prevState,\n                     user:{\n                         ...prevState.user,\n                         followers:newFollower\n                        }\n                 }\n             })\n            \n             setShowFollow(true)  \n        })\n    }\n\n    return ( \n        <>\n        {userProfile ? \n        \n            <div style={{maxWidth:\"550px\",margin:\"0 auto\"}}>\n        <div style={{\n        \n            display:\"flex\",\n            justifyContent:\"space-around\",\n            margin:\"18px 0\",\n            borderBottom:\"1px solid grey\"\n        }}>\n            <div>\n            <img style={{width: \"160px\" , height: \"160px\", borderRadius:\"80px\"}} \n                src={userProfile.user.pic}\n            />\n            </div>\n            <div>\n                <h4>{userProfile.user.name}</h4>\n                <h5>{userProfile.user.email}</h5>\n                <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\n                    <h6>{userProfile.posts.length} posts</h6>\n                    <h6>{userProfile.user.followers.length} followers</h6>\n                    <h6>{userProfile.user.following.length} following</h6>\n                </div>\n                {showfollow?\n                   <button style={{\n                       margin:\"10px\"\n                   }} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n                    onClick={()=>followUser()}\n                    >\n                        Follow\n                    </button>\n                    : \n                    <button\n                    style={{\n                        margin:\"10px\"\n                    }}\n                    className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n                    onClick={()=>unfollowUser()}\n                    >\n                        UnFollow\n                    </button>\n                    }\n            </div>\n        </div>\n        \n        <div className=\"gallery\">\n\n\n        {\n            userProfile.posts.map((item)=>{\n                return(\n                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title} />\n                )\n            })\n        }\n            \n        </div>\n    </div>\n        \n         : <h2>Loading......!</h2>}\n   \n    </>\n    )\n}\n\nexport default Profile;\n","import React,{useState,useEffect,useContext} from 'react'\nimport {UserContext} from \"../../App\";\nimport {Link} from \"react-router-dom\";\n\nfunction Home() {\n    const[data,setData] = useState([]);\n    const {state,dispatch} = useContext(UserContext);\n    useEffect(()=>{\n        fetch(\"/getsubpost\",{\n            headers:{\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\")\n            }\n        }).then(res => res.json())\n        .then(result => {\n            console.log(result);\n            setData(result.posts);\n        })\n    },[])\n\n    const likePost=(id)=>{\n        fetch(\"/like\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        })\n        .then(res=>res.json())\n        .then(result => {\n            const newData= data.map((item)=>{\n                if(item._id === result._id){\n                    return result;\n                } else {\n                    return item;\n                }\n            })\n            setData(newData);\n        }).catch(err =>{\n            console.log(err);\n        })\n    }\n    const unlikePost=(id)=>{\n        fetch(\"/unlike\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        })\n        .then(res=>res.json())\n        .then(result => {\n            const newData= data.map((item)=>{\n                if(item._id === result._id){\n                    return result;\n                } else {\n                    return item;\n                }\n            })\n            setData(newData);\n        }).catch(err =>{\n            console.log(err);\n        })\n    }\n\n    const makeComment = (text,postId)=>{\n        fetch(\"/comment\",{\n            method:\"put\",\n            headers:{\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\n                \"Content-Type\": \"application/json\"\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        })\n        .then((res)=> res.json())\n        .then(result => {\n            console.log(result);\n            const newData= data.map((item)=>{\n                if(item._id === result._id){\n                    return result;\n                } else {\n                    return item;\n                }\n            })\n            setData(newData);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    const deletePost = (postId)=>{\n        fetch(`/deletepost/${postId}`,{\n            method:\"delete\",\n            headers:{\n                Authorization : \"Bearer \"+ localStorage.getItem(\"jwt\")\n            }\n        })\n        .then(res => res.json())\n        .then(result => {\n            console.log(result);\n            const newData  = data.filter((item)=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n    return (\n        <div className=\"home\">\n\n           {\n            data.map((item)=>{\n                return(\n                    <div className=\"card home-card\" key={item._id}>\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ?   \"/profile/\" + item.postedBy._id : \"/profile\"}> {item.postedBy.name} </Link>  \n                        {item.postedBy._id == state._id\n                        &&\n                        <i className=\"material-icons\" style={{float:\"right\"}}\n                        onClick={()=>deletePost(item._id)}\n                        >delete</i>\n                        }\n                        </h5>\n\n                        <div className=\"card-image\">\n                            <img src={item.photo} alt=\"\" />\n                        </div>\n                        <div className=\"card-content\">\n                        <i className=\"material-icons\" style={{color:\"red\"}} >favorite</i>\n                        {item.likes.includes(state._id)\n                        ?\n                        <i onClick={()=>unlikePost(item._id)} className=\"material-icons\" >thumb_down</i>\n                        :\n                        <i onClick={()=>likePost(item._id)} className=\"material-icons\" >thumb_up</i>\n                        }\n                        \n                        \n                            <h6>{item.likes.length} likes</h6>\n                            <h6>{item.title}</h6>\n                            <p>{item.body}</p>\n                            {\n                               item.comments.map((record)=>{\n                                   return(\n                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                   )\n                               })     \n                            }\n                            \n                            <form onSubmit={(e)=>{\n                                e.preventDefault();\n                                makeComment(e.target[0].value,item._id)\n                                 \n                            }}>\n                            <input type=\"text\" placeholder=\"Add a comment\" /> \n                            </form>\n                        </div>\n                    </div>\n                )\n            })\n           } \n            \n        </div>\n    )\n}\n\nexport default Home\n","import React,{useEffect,createContext,useReducer,useContext} from \"react\";\nimport{BrowserRouter,Route,Switch,useHistory} from \"react-router-dom\";\nimport Navbar  from \"./components/Navbar\";\nimport \"./App.css\";\nimport Home from \"./components/screens/Home\";\nimport Signin from \"./components/screens/Signin\";\nimport Signup from \"./components/screens/Signup\";\nimport Profile from \"./components/screens/Profile\";\nimport Createpost from \"./components/screens/Createpost\";\nimport {reducer,initialState} from \"./reducers/userReducer\";\nimport UserProfile from \"./components/screens/UserProfile\";\nimport SubscribedUserPost from \"./components/screens/SubscribedUserPost\"\n\nexport const UserContext = createContext();\n\nconst Routing=()=>{\n  const history = useHistory();\n  const{state,dispatch}= useContext(UserContext);\n  useEffect(()=>{\n    const user= JSON.parse(localStorage.getItem(\"user\"));\n    if(user){\n      dispatch({type:\"USER\",payload:user});\n      // history.push(\"/\");\n    } else {\n      history.push(\"/signin\");\n    }\n  },[])\n  return(\n    <Switch>\n<Route exact path=\"/\" >\n    <Home />\n    </Route>\n    <Route path=\"/signup\">\n      <Signup></Signup>\n    </Route>\n    <Route path=\"/signin\">\n      <Signin />\n    </Route>\n    <Route exact path=\"/profile\">\n      <Profile />\n    </Route>\n    <Route path=\"/createpost\">\n      <Createpost />\n    </Route>\n    <Route path=\"/profile/:userid\">\n      <UserProfile />\n    </Route>\n    <Route path=\"/myfollowingpost\">\n        <SubscribedUserPost />\n    </Route>\n    </Switch>\n  )\n}\n\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState);\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n    <Navbar />\n    <Routing />\n    </BrowserRouter> \n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}